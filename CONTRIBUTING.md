# Contributing to GymPulse

## Development Guidelines

### Prerequisites
- Node.js 18+ and npm
- AWS CDK CLI (`npm install -g aws-cdk`)
- Python 3.9+ for Lambda functions
- AWS CLI configured with appropriate permissions

### Getting Started
1. Fork the repository
2. Clone your fork: `git clone https://github.com/[your-username]/GymPulse.git`
3. Install dependencies: `npm install`
4. Create a feature branch: `git checkout -b feature/your-feature-name`

## AI-Assisted Development

This project leverages **Amazon Q Developer** for code generation. When contributing:

### AI Usage Guidelines
- **Encouraged**: Use Amazon Q Developer or Kiro for scaffolding, boilerplate, and complex logic
- **Required**: Document AI assistance in commits and PRs
- **Evidence**: Include screenshots and chat transcripts in `docs/ai-evidence/`

### AI Attribution Standards
```bash
# Commit message format
git commit -m "feat: implement machine status API

- REST endpoints for branch and machine queries
- DynamoDB integration with proper error handling
- API Gateway CORS configuration

ðŸ¤– Generated with Amazon Q Developer
Co-Authored-By: Amazon Q Developer <noreply@aws.amazon.com>"
```

## Development Workflow

### Phase-Based Development
Follow the structured phase approach:
1. **Phase 0**: Repository setup âœ…
2. **Phase 1**: Infrastructure as Code
3. **Phase 2**: Device simulation
4. **Phase 3**: Data processing
5. ... (see Plan.md for complete roadmap)

### Branch Naming
- `feature/phase-1-iot-infrastructure`
- `feature/phase-2-device-simulation`
- `bugfix/lambda-timeout-handling`
- `docs/api-documentation-update`

### Commit Conventions
Follow [Conventional Commits](https://www.conventionalcommits.org/):
- `feat:` - New features
- `fix:` - Bug fixes
- `docs:` - Documentation changes
- `refactor:` - Code refactoring
- `test:` - Test additions/updates
- `chore:` - Build process or auxiliary tool changes

## Code Standards

### TypeScript/CDK Infrastructure
- Use CDK L2 constructs when available
- Implement proper IAM least-privilege policies
- Include CloudWatch monitoring and alarms
- Add comprehensive JSDoc comments

### Python Lambda Functions
- Follow PEP 8 style guide
- Use type hints where applicable
- Include proper error handling and logging
- Write unit tests for business logic

### React Frontend
- Use functional components with hooks
- Follow accessibility best practices (WCAG 2.1 AA)
- Implement responsive design (mobile-first)
- Add proper TypeScript interfaces

## Testing Requirements

### Unit Tests
- **Backend**: Python unittest or pytest
- **Frontend**: Jest and React Testing Library
- **CDK**: CDK unit tests with aws-cdk-lib/assertions

### Integration Tests
- API endpoint testing
- WebSocket connection testing
- IoT message flow validation

### AI-Generated Tests
- Include tests generated by AI tools
- Document AI-generated test coverage
- Validate and refine AI-generated tests

## Documentation

### Code Documentation
- JSDoc for TypeScript functions
- Python docstrings for Lambda functions
- README updates for new features
- API documentation updates

### AI Evidence Documentation
- Screenshot AI generation sessions
- Export chat transcripts
- Document human refinements made
- Update AI usage metrics

## Pull Request Process

1. **Create Feature Branch**
   ```bash
   git checkout -b feature/your-feature-name
   ```

2. **Develop with AI Assistance**
   - Use Amazon Q Developer for code generation
   - Capture evidence throughout development
   - Follow coding standards and testing requirements

3. **Commit with AI Attribution**
   ```bash
   git add .
   git commit -m "feat: your feature description
   
   ðŸ¤– Generated with Amazon Q Developer
   Co-Authored-By: Amazon Q Developer <noreply@aws.amazon.com>"
   ```

4. **Create Pull Request**
   - Use the provided PR template
   - Document AI usage percentage
   - Include evidence links
   - Request appropriate reviewers

5. **Address Review Comments**
   - Make requested changes
   - Update tests if needed
   - Maintain AI attribution for new changes

## Deployment Guidelines

### CDK Deployment
```bash
# Synthesize CloudFormation
npm run build
npx cdk synth

# Deploy to development
npx cdk deploy --all --profile dev

# Deploy to production (requires approval)
npx cdk deploy --all --profile prod --require-approval broadening
```

### Environment Management
- **Development**: Personal AWS accounts
- **Staging**: Shared staging environment
- **Production**: Restricted production environment

## Security Guidelines

### Data Protection
- Never commit AWS credentials or API keys
- Use AWS Secrets Manager for sensitive configuration
- Implement data encryption at rest and in transit
- Follow Hong Kong PDPO compliance requirements

### IoT Security
- Use device certificates for authentication
- Implement least-privilege device policies
- Monitor device behavior for anomalies
- Regular security audit of IoT endpoints

## Performance Requirements

### Latency Targets
- **End-to-end updates**: <15s P95
- **API responses**: <500ms P95
- **Chatbot responses**: <3s P95
- **WebSocket notifications**: <2s P95

### Monitoring
- CloudWatch metrics for all services
- Custom metrics for business logic
- Alerts for performance degradation
- Regular performance regression testing

## AI Evidence Requirements for Hackathon

### Required Evidence
- Screenshots of AI code generation sessions
- Chat transcript exports from AI tools
- Before/after code comparisons
- AI usage percentage documentation

### Submission Package
- Comprehensive evidence compilation
- AI contribution metrics and statistics
- Demo video showing AI-generated components
- Technical innovation documentation

## Getting Help

### Resources
- **Phase Documentation**: Check Phase0.md through Phase10.md for detailed steps
- **Architecture**: See README.md for system overview
- **Infrastructure Planning**: docs/infrastructure-planning.md
- **AI Templates**: docs/ai-generation-templates.md

### Contact
- Create GitHub issues for bugs or feature requests
- Use GitHub Discussions for general questions
- Follow the issue templates provided

## License
This project is part of a hackathon submission. See LICENSE for details.